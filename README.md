---
### Bilibili 查询弹幕发送者
#### 1- 获得视频cid号
查看网站源代码（不是F12）
Ctrl+F搜索`"cid"`，例如`"cid":26656541`

#### 2- 获取弹幕信息
将 {cid} 替换为之前搜索到的数字cid，访问网页：
`http://comment.bilibili.com/{cid}.xml`
例如:
`http://comment.bilibili.com/26656541.xml`
#### 3- 获取uid
Ctrl+F搜索指定弹幕.
`<d p="563.30900,1,25,16777215,1543502985,0,11969c93,8577776783720448">力量只是主线 核心其实是自卑</d>`
参数解释：
- 参数一`563.30900`，弹幕播放起始时间
- 参数二`1`，弹幕的模式。3-滚动弹幕、4-底端弹幕、5-顶端弹幕、6-逆向弹幕、7-精准定位、8-高级弹幕
- 参数三`25`，字号
- 参数四`16777215`，字体颜色，HTML颜色十进制。
- 参数五`1543502985`，Unix格式时间戳
- 参数六`0`，弹幕池，0普通池，1字幕池，2特殊池
- 参数七`11969c93`，**发送者ID**，用于屏蔽此弹幕的发送者功能
- 参数八`8577776783720448`,弹幕在弹幕数据库中的rowID，用于历史弹幕功能
#### 4-解码uid
这里的UID是原始数字UID用 ITU I.363.5 进行 Hash 后得到的结果，现在需要把它进行“反向Hash”。
因为B站的UID是从小到大自增的纯数字，目前最大UID不超过7亿，所以还是可以纯暴力解决的，甚至可以自行建一个彩虹表。

ITU I.363.5在php中直接被封装成了函数，不需要造hash的轮子了，使用`hash('crc32b',$uuid_str)`即可计算。

> 注，bilibili 使用的是crc32b 不是crc32。
